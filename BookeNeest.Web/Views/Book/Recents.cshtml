@using System.Text;

@model IList<BookeNeest.Web.Models.BookViewModel>

@{
    ViewBag.Title = "Book";
}
<h2>Some recent books on site:</h2>


@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    <p>
        <ul>
            @foreach (var book in Model)
            {
                <li> ID: @book.Id.ToString()</li>
                <li> Name: @book.Name</li>
                StringBuilder authors = new StringBuilder();
                foreach (var author in book.Authors)
                {
                    authors.Append(author).Append(", ");
                }
                if (authors.Length > 2 && authors[authors.Length - 1] == ' ' )
                {
                    authors.Remove(authors.Length - 2, 2).Append(".");
                }
                <li> Author:  @authors.ToString()</li>
            }
        </ul>
    </p>
    <p>
        <div class="form-horizontal">
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group">
                <div class="col-md-10">
                    <input type="submit" value="Add new book" class="btn btn-default" />
                    @*@Html.Action("AddNewBook");*@
                </div>
            </div>
        </div>
    </p>
}

@*<div>
    @Html.ActionLink("Back to List", "Index", "Home");
</div>*@

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
